# Copyright (c) Jupyter Development Team.
# Distributed under the terms of the Modified BSD License.

ARG OWNER=jupyter
ARG BASE_CONTAINER=$OWNER/scipy-notebook
FROM $BASE_CONTAINER

LABEL maintainer="Jupyter Project <jupyter@googlegroups.com>"

# Install Tensorflow
RUN mamba install --quiet --yes \
    'tensorflow=2.4.1' \
    'flask' \
    'pydantic' \
    'uvicorn' \
    'fastapi' \
    'psycopg2-binary' \
    'sqlalchemy' && \
    mamba clean --all -f -y && \
    fix-permissions "${CONDA_DIR}" && \
    fix-permissions "/home/${NB_USER}"

WORKDIR /APIgen/APIgen/notebooks

COPY . ${CD}\notebooks